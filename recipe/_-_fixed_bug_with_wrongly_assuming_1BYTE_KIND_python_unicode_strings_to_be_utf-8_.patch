Index: jcc3/sources/JCCEnv.cpp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- jcc3/sources/JCCEnv.cpp	(revision 1868205)
+++ jcc3/sources/JCCEnv.cpp	(revision 1868206)
@@ -955,6 +955,7 @@
 {
     std::vector<jchar> jchars;
 
+    jchars.reserve((size_t) len);
     for (jsize i = 0; i < len; ++i) {
         uint32_t c = chars[i];
 
@@ -1004,9 +1005,17 @@
               }
           }
 
-          case PyUnicode_1BYTE_KIND:
-              return get_vm_env()->NewStringUTF(
-                  (const char *) PyUnicode_1BYTE_DATA(object));
+          case PyUnicode_1BYTE_KIND: {
+              Py_ssize_t len = PyUnicode_GET_LENGTH(object);
+              Py_UCS1 *pchars = PyUnicode_1BYTE_DATA(object);
+              std::vector<jchar> jchars;
+
+              jchars.reserve((size_t) len);
+              for (int i = 0; i < len; ++i)
+                  jchars.push_back((jchar) pchars[i]);
+
+              return get_vm_env()->NewString(jchars.data(), jchars.size());
+          }
 
           case PyUnicode_2BYTE_KIND: {
               Py_ssize_t len = PyUnicode_GET_LENGTH(object);
Index: CHANGES
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- CHANGES	(revision 1868205)
+++ CHANGES	(revision 1868206)
@@ -1,3 +1,8 @@
+Version 3.6 ->
+------------------
+ - fixed bug with wrongly assuming 1BYTE_KIND python strings to be utf-8
+ - 
+
 Version 3.5 -> 3.6
 ------------------
  - fixed bug PYLUCENE-47 (with help from Petrus Hyvï¿½nen)
